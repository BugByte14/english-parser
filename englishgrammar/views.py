from urllib import request
from django.shortcuts import render, redirect
from django.contrib.auth.forms import UserCreationForm
from django.contrib.auth import authenticate, login, logout
from django.http import HttpResponse, HttpResponseRedirect
from parsimonious.grammar import Grammar

from .forms import CreateUserForm, UploadFileForm

def home(request):
    response = redirect('/parser')
    return response

def parser(request):
    _app_name = "English Grammar App"
    if request.user.is_authenticated:
        if request.method == 'POST':
            print("\nThe file method is POST")
            fileForm = UploadFileForm(request.FILES)
            if fileForm.is_valid():
                print("\nThe file form is valid!")
                handle_uploaded_file(request.FILES['file'])
                return HttpResponseRedirect('englishgrammar/dashboard.html')
        else:
            print("\nRequest method not POST for some reason")
            fileForm = UploadFileForm()
        return render(request, 'englishgrammar/parser.html', {'app_name': _app_name, 'fileForm': fileForm})
    return redirect("login")

def parse(request):
    def countPOS(tree):
        art = tree.count('called "article"')
        nou = tree.count('called "noun"')
        ver = tree.count('called "verb"')
        pro = tree.count('called "pronoun"')
        adj = tree.count('called "adjective"')
        adv = tree.count('called "adverb"')
        pre = tree.count('called "preposition"')
        conj = tree.count('called "conjunction"')
        unk = tree.count('called "unknown"')
        POS = {
            "Articles": art,
            "Nouns": nou,
            "Verbs": ver,
            "Pronouns": pro,
            "Adjectives": adj,
            "Adverbs": adv,
            "Prepositions": pre,
            "Conjunctions": conj,
            "Unknowns": unk
        }
        return POS
    
    def countWords(input):
        input = input.split()
        words = {}
        for key in input:
            if key not in words:
                words[key] = 1
            else:
                words[key] += 1
        return words

    grammar = Grammar(
    """
    text = (word space text) / (word punctuation space text) / (word punctuation) / word
    word = adverb / adjective / preposition / conjunction / noun / verb / pronoun / article / unknown
    
    article = "an" / "a" / "the"
    
    noun = plural_noun / singular_noun
    singular_noun = "absence" / "academy" / "accent" / "acceptance" / "accident" / "accomplishment" / "accountability" / "accounting" / "account" / "accuracy" / "accusation" / "achievement" / "acid" / "acquisition" / "acre" / "action" / "activist" / "activity" / "actor" / "actress" / "act" / "adaptation" / "addiction" / "addition" / "address" / "adjustment" / "administration" / "administrator" / "admission" / "adolescent" / "adoption" / "adult" / "advantage" / "adventure" / "advertisement" / "advice" / "adviser" / "advocate" / "ad" / "affair" / "affiliation" / "afternoon" / "agency" / "agenda" / "agent" / "age" / "agreement" / "agriculture" / "aide" / "aids" / "aid" / "aim" / "aircraft" / "airline" / "airplane" / "airport" / "air" / "aisle" / "alarm" / "album" / "alcohol" / "alien" / "allegation" / "alley" / "alliance" / "ally" / "alpha" / "alternative" / "ambassador" / "ambition" / "amendment" / "amount" / "analysis" / "analyst" / "ancestor" / "anchor" / "android" / "angel" / "anger" / "angle" / "animal" / "ankle" / "anniversary" / "announcement" / "answer" / "anxiety" / "anytime" / "apartment" / "apology" / "appeal" / "appearance" / "apple" / "application" / "appointment" / "appreciation" / "approach" / "approval" / "app" / "april" / "arab" / "architecture" / "architect" / "archive" / "area" / "arena" / "argument" / "army" / "arm" / "arrangement" / "array" / "arrest" / "arrival" / "arrow" / "article" / "artist" / "art" / "ash" / "aspect" / "assault" / "assembly" / "assessment" / "asset" / "asshole" / "assignment" / "assistance" / "assistant" / "associate" / "association" / "assumption" / "ass" / "astronomer" / "athlete" / "atmosphere" / "attack" / "attempt" / "attendance" / "attention" / "attitude" / "attorney" / "attraction" / "attribute" / "audience" / "august" / "aunt" / "author" / "authority" / "auto" / "availability" / "avenue" / "average" / "award" / "awareness" / "babe" / "baby" / "background" / "backup" / "backyard" / "back" / "bacteria" / "bag" / "balance" / "balloon" / "ballot" / "ball" / "banana" / "band" / "banker" / "banking" / "bankruptcy" / "bank" / "ban" / "barn" / "barrel" / "barrier" / "bar" / "baseball" / "basement" / "base" / "basis" / "basketball" / "basket" / "bastard" / "bathroom" / "bath" / "battery" / "battle" / "bat" / "bay" / "beach" / "beam" / "bean" / "bear" / "beast" / "beat" / "beauty" / "bedroom" / "bed" / "beef" / "beer" / "bee" / "beginning" / "behavior" / "being" / "belief" / "believer" / "belly" / "bell" / "belt" / "bench" / "benefit" / "bet" / "bias" / "bible" / "bicycle" / "bid" / "bike" / "bill" / "biology" / "bird" / "birthday" / "birth" / "bishop" / "bitch" / "bite" / "bit" / "blade" / "blame" / "blanket" / "blast" / "blessing" / "block" / "blog" / "blood" / "blow" / "board" / "boat" / "body" / "bombing" / "bomb" / "bond" / "bone" / "bonus" / "book" / "boom" / "booth" / "boot" / "border" / "boss" / "bottle" / "bottom" / "boundary" / "bowl" / "bow" / "box" / "boyfriend" / "boy" / "brain" / "branch" / "brand" / "bread" / "breakfast" / "breast" / "breath" / "breathing" / "breeze" / "brick" / "bride" / "bridge" / "broadcast" / "brother" / "browser" / "brush" / "bubble" / "bucket" / "buck" / "buddy" / "budget" / "bug" / "building" / "bullet" / "bullshit" / "bull" / "bunch" / "burden" / "bureau" / "burger" / "bush" / "businessman" / "business" / "bus" / "butter" / "button" / "butt" / "buyer" / "cab" / "cabin" / "cabinet" / "cable" / "cafe" / "cage" / "cake" / "calculation" / "calendar" / "caller" / "calorie" / "camera" / "camp" / "campaign" / "campus" / "cancer" / "candidate" / "candle" / "candy" / "canvas" / "cap" / "capability" / "capacity" / "capital" / "capitalism" / "captain" / "car" / "carbohydrate" / "carbon" / "card" / "care" / "career" / "carpet" / "carrier" / "cart" / "cartoon" / "case" / "cash" / "casino" / "cast" / "castle" / "casualty" / "cat" / "catch" / "category" / "catholic" / "cattle" / "cause" / "cave" / "cd" / "ceiling" / "celebration" / "celebrity" / "cell" / "census" / "cent" / "center" / "century" / "ceo" / "ceremony" / "certificate" / "chain" / "chair" / "chairman" / "challenge" / "chamber" / "champion" / "championship" / "chance" / "channel" / "chaos" / "chapter" / "character" / "characteristic" / "charge" / "charity" / "charm" / "chart" / "charter" / "chase" / "check" / "cheek" / "cheese" / "chef" / "chemical" / "chemistry" / "chest" / "chicken" / "chief" / "child" / "childhood" / "chin" / "chip" / "chocolate" / "choice" / "cholesterol" / "christianity" / "christmas" / "chronicle" / "chunk" / "church" / "cigarette" / "circle" / "circuit" / "circumstance" / "citizen" / "citizenship" / "city" / "civilian" / "civilization" / "claim" / "class" / "classic" / "classroom" / "clause" / "clay" / "clerk" / "client" / "cliff" / "climate" / "clinic" / "clip" / "clock" / "closet" / "cloth" / "clothes" / "clothing" / "cloud" / "club" / "clue" / "cluster" / "coach" / "coal" / "coalition" / "coast" / "coat" / "code" / "coffee" / "coin" / "cold" / "collaboration" / "collapse" / "collar" / "colleague" / "collection" / "collector" / "college" / "colonel" / "colony" / "color" / "column" / "columnist" / "combat" / "combination" / "comedy" / "comfort" / "comic" / "command" / "commander" / "comment" / "commentary" / "commerce" / "commission" / "commissioner" / "commitment" / "committee" / "commodity" / "communication" / "community" / "companion" / "company" / "comparison" / "compassion" / "compensation" / "competition" / "competitor" / "complaint" / "complex" / "complexity" / "compliance" / "component" / "composition" / "compound" / "compromise" / "computer" / "concentration" / "concept" / "conception" / "concern" / "concert" / "conclusion" / "condition" / "conduct" / "conference" / "confidence" / "conflict" / "confusion" / "congress" / "congressman" / "connection" / "conscience" / "consciousness" / "consensus" / "consent" / "consequence" / "conservation" / "conservative" / "consideration" / "conspiracy" / "constitution" / "constraint" / "construction" / "consultant" / "consumer" / "consumption" / "contact" / "container" / "content" / "contest" / "context" / "continent" / "contract" / "contractor" / "contrast" / "contribution" / "contributor" / "control" / "controversy" / "convention" / "conversation" / "conversion" / "conviction" / "cookie" / "cooking" / "cooperation" / "coordinator" / "cop" / "copy" / "copyright" / "cord" / "core" / "corn" / "corner" / "corporation" / "corps" / "correction" / "correlation" / "correspondent" / "corridor" / "corruption" / "cost" / "costume" / "cotton" / "couch" / "council" / "counseling" / "counselor" / "count" / "counter" / "counterpart" / "country" / "county" / "couple" / "courage" / "course" / "court" / "courtesy" / "courtroom" / "cousin" / "cover" / "coverage" / "cow" / "cowboy" / "crack" / "craft" / "crap" / "crash" / "cream" / "creation" / "creativity" / "creator" / "creature" / "credibility" / "credit" / "creek" / "crew" / "crime" / "criminal" / "crisis" / "criteria" / "critic" / "criticism" / "critique" / "crop" / "cross" / "crowd" / "crown" / "cruise" / "cry" / "crystal" / "cue" / "culture" / "cup" / "cure" / "curiosity" / "currency" / "curriculum" / "curtain" / "curve" / "custody" / "custom" / "customer" / "cycle" / "dad" / "daddy" / "damage" / "dance" / "dancer" / "dancing" / "danger" / "darkness" / "darling" / "data" / "database" / "date" / "daughter" / "dawn" / "day" / "deadline" / "deal" / "dealer" / "death" / "debate" / "debt" / "debut" / "decade" / "december" / "decision" / "deck" / "declaration" / "decline" / "deer" / "default" / "defeat" / "defendant" / "defender" / "defense" / "deficit" / "definition" / "degree" / "delay" / "delivery" / "demand" / "democracy" / "democrat" / "demon" / "demonstration" / "denial" / "density" / "department" / "departure" / "deposit" / "depression" / "depth" / "deputy" / "description" / "desert" / "design" / "designer" / "desire" / "desk" / "dessert" / "destination" / "destiny" / "destruction" / "detail" / "detective" / "determination" / "developer" / "development" / "device" / "devil" / "diabetes" / "diagnosis" / "dialogue" / "diamond" / "diary" / "diet" / "difference" / "difficulty" / "dignity" / "dimension" / "dining" / "dinner" / "direction" / "director" / "dirt" / "disability" / "disappointment" / "disaster" / "discipline" / "disclosure" / "discount" / "discourse" / "discovery" / "discrimination" / "discussion" / "disease" / "dish" / "disk" / "disorder" / "display" / "dispute" / "distance" / "distinction" / "distribution" / "district" / "diversity" / "division" / "divorce" / "dna" / "doc" / "doctor" / "doctrine" / "document" / "documentary" / "dog" / "doll" / "dollar" / "domain" / "donation" / "donor" / "door" / "doorway" / "dose" / "dot" / "doubt" / "dough" / "dozen" / "draft" / "dragon" / "drama" / "drawer" / "drawing" / "dream" / "dress" / "drink" / "drinking" / "driver" / "drop" / "drug" / "drum" / "duck" / "dude" / "dust" / "duty" / "dynamics" / "e-mail" / "eagle" / "ear" / "earnings" / "earth" / "earthquake" / "ease" / "east" / "eating" / "economics" / "economist" / "economy" / "ecosystem" / "edge" / "edition" / "editor" / "education" / "educator" / "effect" / "effectiveness" / "efficiency" / "effort" / "egg" / "ego" / "elbow" / "elder" / "election" / "electricity" / "element" / "elephant" / "elevator" / "elite" / "email" / "embassy" / "emergency" / "emission" / "emotion" / "emperor" / "emphasis" / "empire" / "employee" / "employer" / "employment" / "encounter" / "end" / "ending" / "enemy" / "energy" / "enforcement" / "engagement" / "engine" / "engineer" / "engineering" / "enterprise" / "entertainment" / "enthusiasm" / "entity" / "entrance" / "entrepreneur" / "entry" / "envelope" / "environment" / "episode" / "equality" / "equation" / "equipment" / "equity" / "equivalent" / "era" / "error" / "escape" / "essay" / "essence" / "establishment" / "estate" / "estimate" / "ethics" / "evaluation" / "evening" / "event" / "evidence" / "evolution" / "exam" / "examination" / "example" / "exception" / "exchange" / "excitement" / "excuse" / "execution" / "executive" / "exercise" / "exhibit" / "exhibition" / "existence" / "exit" / "expansion" / "expectation" / "expense" / "experience" / "experiment" / "expert" / "expertise" / "explanation" / "exploration" / "explosion" / "export" / "exposure" / "expression" / "extension" / "extent" / "eye" / "eyebrow" / "fabric" / "face" / "facility" / "fact" / "factor" / "factory" / "faculty" / "failure" / "faith" / "fame" / "family" / "fan" / "fantasy" / "farm" / "farmer" / "fashion" / "fat" / "fate" / "father" / "fault" / "favor" / "favorite" / "fear" / "feature" / "february" / "fee" / "feed" / "feedback" / "feeling" / "fellow" / "female" / "fence" / "festival" / "fever" / "fiber" / "fiction" / "field" / "fight" / "fighter" / "fighting" / "figure" / "file" / "film" / "filter" / "final" / "finance" / "finding" / "finger" / "fire" / "firm" / "fish" / "fist" / "fitness" / "flag" / "flame" / "flash" / "flat" / "flavor" / "flaw" / "fleet" / "flesh" / "flexibility" / "flight" / "flood" / "floor" / "flour" / "flower" / "fluid" / "folk" / "follower" / "food" / "fool" / "foot" / "footage" / "football" / "force" / "forehead" / "forest" / "fork" / "form" / "format" / "formation" / "formula" / "fortune" / "forum" / "fossil" / "foundation" / "founder" / "fox" / "fraction" / "frame" / "framework" / "franchise" / "fraud" / "freedom" / "french" / "frequency" / "freshman" / "friday" / "friend" / "friendship" / "front" / "fruit" / "frustration" / "fuck" / "fuel" / "fun" / "function" / "fund" / "funding" / "funeral" / "furniture" / "future" / "gain" / "galaxy" / "gallery" / "gallon" / "game" / "gang" / "gap" / "garage" / "garbage" / "garden" / "garlic" / "gas" / "gasoline" / "gate" / "gathering" / "gaze" / "gear" / "gender" / "gene" / "general" / "generation" / "genius" / "genre" / "gentleman" / "german" / "gesture" / "ghost" / "giant" / "gift" / "girl" / "girlfriend" / "glance" / "glass" / "globe" / "glory" / "glove" / "goal" / "goat" / "god" / "golf" / "goodness" / "gop" / "gospel" / "government" / "governor" / "grace" / "grade" / "graduate" / "graduation" / "grain" / "gram" / "grandfather" / "grandma" / "grandmother" / "grant" / "graph" / "graphic" / "grass" / "grave" / "gravity" / "grid" / "grief" / "grip" / "grocery" / "ground" / "group" / "growth" / "guard" / "guardian" / "guest" / "guidance" / "guideline" / "guilt" / "guitar" / "gulf" / "gun" / "gut" / "guy" / "gym" / "habit" / "habitat" / "hair" / "half" / "hall" / "halloween" / "hallway" / "hammer" / "hand" / "handful" / "handle" / "happiness" / "harassment" / "harbor" / "hardware" / "harm" / "hat" / "hatred" / "head" / "headache" / "headline" / "headquarters" / "health" / "health-care" / "hearing" / "heart" / "heat" / "heaven" / "heck" / "heel" / "height" / "helicopter" / "hell" / "helmet" / "herb" / "heritage" / "hero" / "highway" / "hill" / "hint" / "hip" / "historian" / "history" / "hockey" / "hole" / "holiday" / "home" / "homeland" / "homework" / "honey" / "honor" / "hook" / "horizon" / "hormone" / "horn" / "horror" / "horse" / "hospital" / "host" / "hostage" / "hotel" / "hour" / "house" / "household" / "housing" / "human" / "humanity" / "humor" / "hundred" / "hunger" / "hunter" / "hunting" / "hurricane" / "husband" / "hypothesis" / "ice" / "icon" / "idea" / "ideal" / "identification" / "identity" / "ideology" / "idiot" / "ignorance" / "illness" / "illusion" / "illustration" / "image" / "imagination" / "immigrant" / "immigration" / "impact" / "implementation" / "implication" / "import" / "importance" / "impression" / "improvement" / "incentive" / "inch" / "incident" / "income" / "increase" / "independence" / "index" / "indication" / "indicator" / "individual" / "industry" / "infant" / "infection" / "inflation" / "influence" / "info" / "information" / "infrastructure" / "ingredient" / "initiative" / "injury" / "inmate" / "innovation" / "input" / "inquiry" / "insect" / "inside" / "insight" / "inspection" / "inspector" / "inspiration" / "installation" / "instance" / "instinct" / "institute" / "institution" / "instruction" / "instructor" / "instrument" / "insurance" / "integration" / "integrity" / "intelligence" / "intensity" / "intent" / "intention" / "interaction" / "interest" / "interface" / "interior" / "internet" / "interpretation" / "interval" / "intervention" / "interview" / "introduction" / "invasion" / "invention" / "inventory" / "investigation" / "investigator" / "investment" / "investor" / "invitation" / "involvement" / "ipad" / "iphone" / "iron" / "irony" / "islam" / "island" / "isolation" / "israeli" / "issue" / "item" / "jacket" / "jail" / "january" / "jar" / "jaw" / "jazz" / "jeans" / "jet" / "jewelry" / "job" / "joke" / "journal" / "journalism" / "journalist" / "journey" / "joy" / "judge" / "judgment" / "juice" / "july" / "june" / "jungle" / "junk" / "jurisdiction" / "juror" / "jury" / "justice" / "key" / "keyboard" / "kick" / "kid" / "killer" / "killing" / "kind" / "king" / "kingdom" / "kit" / "kitchen" / "knee" / "knife" / "knowledge" / "lab" / "label" / "labor" / "laboratory" / "lack" / "lady" / "lake" / "lamp" / "land" / "landing" / "landscape" / "lane" / "language" / "lap" / "laptop" / "laser" / "laugh" / "laughter" / "launch" / "laundry" / "law" / "lawmaker" / "lawn" / "lawsuit" / "lawyer" / "layer" / "leader" / "leadership" / "leaf" / "league" / "learner" / "learning" / "leather" / "lecture" / "left" / "leg" / "legacy" / "legend" / "legislation" / "legislature" / "lemon" / "length" / "lens" / "lesson" / "letter" / "level" / "liability" / "liar" / "liberal" / "liberty" / "library" / "license" / "lie" / "lieutenant" / "lifestyle" / "lifetime" / "life" / "lightbulb" / "lightning" / "light" / "likelihood" / "limb" / "limit" / "limitation" / "line" / "link" / "lion" / "lip" / "list" / "listener" / "literacy" / "literature" / "liver" / "living" / "load" / "loan" / "lobby" / "location" / "lock" / "locker" / "log" / "logic" / "look" / "loop" / "lord" / "loser" / "loss" / "lot" / "lover" / "loyalty" / "luck" / "lunch" / "lung" / "lyrics" / "ma'am" / "machine" / "magazine" / "magic" / "magnitude" / "mail" / "maintenance" / "major" / "majority" / "maker" / "makeup" / "male" / "mall" / "mama" / "man" / "management" / "manager" / "mandate" / "manner" / "manufacturer" / "manufacturing" / "map" / "march" / "margin" / "marijuana" / "marine" / "mark" / "marker" / "market" / "marketing" / "marriage" / "mask" / "mass" / "master" / "match" / "mate" / "material" / "math" / "mathematics" / "matter" / "mayor" / "may" / "meal" / "meaning" / "meantime" / "measurement" / "meat" / "mechanic" / "mechanism" / "medal" / "media" / "medication" / "medicine" / "medium" / "meeting" / "member" / "membership" / "memorial" / "memory" / "mentor" / "menu" / "merchant" / "mercy" / "merit" / "message" / "mess" / "metal" / "metaphor" / "meter" / "method" / "middle" / "midnight" / "midst" / "migration" / "mile" / "military" / "milk" / "mill" / "mind" / "mine" / "minimum" / "minister" / "ministry" / "minority" / "minute" / "miracle" / "mirror" / "miss" / "missile" / "mission" / "mistake" / "mix" / "mixture" / "mode" / "model" / "molecule" / "mom" / "moment" / "momentum" / "mommy" / "monday" / "money" / "monitor" / "monkey" / "monster" / "month" / "monument" / "mood" / "moon" / "morality" / "morning" / "mortality" / "mortgage" / "mosque" / "mother" / "motion" / "motivation" / "motive" / "motor" / "mount" / "mountain" / "mouse" / "mouth" / "movement" / "movie" / "mud" / "murder" / "murderer" / "muscle" / "museum" / "music" / "musician" / "mystery" / "myth" / "nail" / "name" / "narrative" / "narrator" / "nation" / "nature" / "navy" / "necessity" / "neck" / "needle" / "negotiation" / "neighbor" / "neighborhood" / "nerve" / "nest" / "net" / "network" / "news" / "newspaper" / "night" / "nightmare" / "noise" / "nomination" / "nominee" / "nonsense" / "noon" / "norm" / "north" / "northeast" / "northwest" / "nose" / "note" / "notice" / "notion" / "novel" / "november" / "number" / "nurse" / "nut" / "nutrition" / "oak" / "object" / "objection" / "objective" / "obligation" / "observation" / "observer" / "obstacle" / "occasion" / "occupation" / "ocean" / "october" / "odds" / "offender" / "offense" / "offering" / "office" / "officer" / "official" / "oil" / "olympics" / "onion" / "opening" / "opera" / "operation" / "operator" / "opinion" / "opponent" / "opportunity" / "opposition" / "option" / "orbit" / "order" / "organ" / "organism" / "organization" / "orientation" / "origin" / "ounce" / "outcome" / "outfit" / "outlet" / "outlook" / "output" / "oven" / "owner" / "ownership" / "oxygen" / "pace" / "pack" / "package" / "pad" / "page" / "pain" / "paint" / "painter" / "painting" / "pair" / "pal" / "palace" / "palestinian" / "palm" / "pan" / "panel" / "panic" / "pant" / "paper" / "parade" / "paragraph" / "parameter" / "parent" / "park" / "parking" / "parliament" / "part" / "participant" / "participation" / "particle" / "partner" / "partnership" / "party" / "pass" / "passage" / "passenger" / "passion" / "past" / "pastor" / "patch" / "patent" / "path" / "patience" / "patient" / "pattern" / "payment" / "pc" / "peace" / "peak" / "peanut" / "peer" / "pen" / "penalty" / "pension" / "people" / "pepper" / "percent" / "percentage" / "perception" / "performance" / "performer" / "period" / "permission" / "person" / "personality" / "personnel" / "perspective" / "pet" / "petition" / "phase" / "phenomenon" / "philosophy" / "phone" / "photo" / "photograph" / "photographer" / "photography" / "phrase" / "physician" / "physics" / "piano" / "pickup" / "picture" / "pie" / "piece" / "pig" / "pile" / "pill" / "pillow" / "pilot" / "pin" / "pine" / "pipe" / "pipeline" / "pirate" / "pit" / "pitch" / "pitcher" / "pizza" / "place" / "placement" / "plain" / "plan" / "plane" / "planet" / "planning" / "plant" / "plastic" / "plate" / "platform" / "player" / "playoff" / "plea" / "pleasure" / "plot" / "plus" / "pocket" / "poem" / "poet" / "poetry" / "point" / "pole" / "police" / "policy" / "politician" / "politics" / "poll" / "pollution" / "pond" / "pool" / "pop" / "pope" / "popularity" / "population" / "porch" / "pork" / "port" / "portfolio" / "portion" / "portrait" / "position" / "possession" / "possibility" / "post" / "poster" / "pot" / "potato" / "potential" / "pound" / "poverty" / "powder" / "power" / "practice" / "practitioner" / "prayer" / "predator" / "prediction" / "preference" / "pregnancy" / "premise" / "premium" / "preparation" / "prescription" / "presence" / "present" / "presentation" / "presidency" / "president" / "press" / "pressure" / "prevention" / "price" / "pride" / "priest" / "primary" / "prince" / "princess" / "principal" / "principle" / "print" / "priority" / "prison" / "prisoner" / "privacy" / "privilege" / "prize" / "pro" / "probability" / "problem" / "procedure" / "proceedings" / "process" / "processing" / "processor" / "producer" / "product" / "production" / "productivity" / "profession" / "professional" / "professor" / "profile" / "profit" / "program" / "programming" / "progress" / "project" / "projection" / "promise" / "promotion" / "proof" / "propaganda" / "property" / "prophet" / "proportion" / "proposal" / "proposition" / "prosecution" / "prosecutor" / "prospect" / "protection" / "protein" / "protest" / "protester" / "protocol" / "provider" / "province" / "provision" / "psychologist" / "psychology" / "publication" / "publisher" / "publishing" / "pulse" / "pump" / "punch" / "punishment" / "purchase" / "purpose" / "purse" / "pursuit" / "puzzle" / "quality" / "quantity" / "quantum" / "quarter" / "quarterback" / "queen" / "quest" / "question" / "questionnaire" / "quote" / "rabbit" / "race" / "racism" / "rack" / "radar" / "radiation" / "radio" / "rage" / "rail" / "railroad" / "rain" / "rally" / "ranch" / "range" / "rank" / "ranking" / "rat" / "rate" / "rating" / "ratio" / "ray" / "re-election" / "reaction" / "reader" / "reading" / "reality" / "realm" / "reason" / "rebel" / "receiver" / "reception" / "recession" / "recipe" / "recipient" / "recognition" / "recommendation" / "record" / "recording" / "recovery" / "reduction" / "reference" / "reflection" / "reform" / "refugee" / "regard" / "regime" / "region" / "registration" / "regulation" / "relation" / "relationship" / "relative" / "release" / "reliability" / "relief" / "religion" / "remark" / "reminder" / "removal" / "rent" / "rep" / "replacement" / "reporter" / "reporting" / "representation" / "representative" / "republic" / "republican" / "reputation" / "requirement" / "rescue" / "research" / "researcher" / "reservation" / "reserve" / "residence" / "resident" / "resistance" / "resolution" / "resort" / "resource" / "respect" / "respondent" / "response" / "responsibility" / "rest" / "restaurant" / "restriction" / "result" / "retailer" / "retirement" / "return" / "revelation" / "revenge" / "revenue" / "review" / "revolution" / "reward" / "rhetoric" / "rhythm" / "rice" / "ride" / "rider" / "ridge" / "rifle" / "ring" / "riot" / "rise" / "risk" / "ritual" / "rival" / "river" / "road" / "robot" / "rock" / "rocket" / "rod" / "role" / "roll" / "romance" / "roof" / "rookie" / "room" / "root" / "rope" / "rose" / "round" / "route" / "routine" / "row" / "rule" / "ruling" / "rumor" / "runner" / "rush" / "sack" / "sacrifice" / "safety" / "saint" / "sake" / "salad" / "salary" / "sale" / "sales" / "salmon" / "salt" / "sample" / "sanction" / "sand" / "sandwich" / "satellite" / "satisfaction" / "saturday" / "sauce" / "saving" / "scale" / "scandal" / "scenario" / "scene" / "schedule" / "scheme" / "scholar" / "scholarship" / "school" / "science" / "scientist" / "scope" / "score" / "scout" / "screen" / "screening" / "script" / "scripture" / "sculpture" / "sea" / "seal" / "season" / "seat" / "second" / "secret" / "secretary" / "section" / "sector" / "security" / "seed" / "segment" / "selection" / "self" / "senate" / "senator" / "senior" / "sensation" / "sense" / "sensitivity" / "sensor" / "sentence" / "sentiment" / "separation" / "september" / "sequence" / "sergeant" / "series" / "servant" / "server" / "service" / "serving" / "session" / "setting" / "settlement" / "sex" / "shade" / "shadow" / "shame" / "shape" / "share" / "shark" / "sheep" / "sheet" / "shelf" / "shell" / "shelter" / "sheriff" / "shield" / "shift" / "ship" / "shirt" / "shit" / "shock" / "shoe" / "shooting" / "shop" / "shore" / "shortage" / "shot" / "shoulder" / "shower" / "shuttle" / "sibling" / "side" / "sidebar" / "sidewalk" / "sight" / "sign" / "signal" / "signature" / "significance" / "silence" / "silk" / "similarity" / "sin" / "singer" / "sink" / "sir" / "sister" / "site" / "situation" / "size" / "ski" / "skill" / "skin" / "skirt" / "skull" / "sky" / "slave" / "slavery" / "sleep" / "sleeve" / "slice" / "slide" / "slope" / "smell" / "smile" / "smoke" / "snake" / "snow" / "soap" / "soccer" / "society" / "sock" / "soda" / "sodium" / "software" / "soil" / "soldier" / "solo" / "solution" / "son" / "song" / "sort" / "soul" / "sound" / "soup" / "source" / "south" / "southeast" / "southwest" / "space" / "speaker" / "specialist" / "species" / "spectrum" / "speculation" / "speech" / "speed" / "spell" / "spending" / "sphere" / "spirit" / "spokesman" / "sponsor" / "sport" / "spot" / "spouse" / "spread" / "spring" / "spy" / "squad" / "square" / "stability" / "stack" / "stadium" / "staff" / "stage" / "stair" / "stake" / "stamp" / "stance" / "standard" / "standing" / "star" / "starter" / "state" / "statement" / "station" / "statistics" / "statue" / "status" / "statute" / "steak" / "steam" / "steel" / "stem" / "step" / "stick" / "stimulus" / "stock" / "stomach" / "stone" / "storage" / "store" / "storm" / "story" / "strain" / "stranger" / "strategy" / "streak" / "stream" / "street" / "strength" / "stress" / "stretch" / "strike" / "string" / "strip" / "stroke" / "structure" / "struggle" / "student" / "studio" / "study" / "stuff" / "style" / "subject" / "subsidy" / "substance" / "suburb" / "success" / "suffering" / "sugar" / "suggestion" / "suicide" / "suit" / "suite" / "sum" / "summary" / "summer" / "summit" / "sun" / "sunday" / "sunlight" / "sunset" / "supervisor" / "supply" / "supporter" / "surface" / "surgeon" / "surgery" / "surprise" / "surveillance" / "survey" / "survival" / "survivor" / "suspect" / "suspicion" / "sweat" / "sweetheart" / "swing" / "switch" / "sword" / "symbol" / "sympathy" / "symptom" / "syndrome" / "system" / "t-shirt" / "tab" / "table" / "tablespoon" / "tablet" / "tactic" / "tag" / "tail" / "tale" / "talent" / "talking" / "tank" / "tape" / "target" / "task" / "taste" / "tattoo" / "tax" / "taxpayer" / "tea" / "teacher" / "teaching" / "team" / "teammate" / "tear" / "teaspoon" / "tech" / "technique" / "technology" / "teen" / "teenager" / "telephone" / "telescope" / "television" / "temperature" / "temple" / "tendency" / "tennis" / "tension" / "tent" / "term" / "territory" / "terror" / "terrorism" / "terrorist" / "test" / "testament" / "testimony" / "text" / "textbook" / "thanks" / "thanksgiving" / "theater" / "theft" / "theme" / "theology" / "theory" / "therapist" / "therapy" / "thief" / "thigh" / "thing" / "thinking" / "thought" / "thousand" / "thread" / "threat" / "threshold" / "throat" / "throne" / "thumb" / "thursday" / "ticket" / "tide" / "tie" / "tiger" / "time" / "timing" / "tip" / "tissue" / "title" / "tobacco" / "toe" / "toilet" / "toll" / "tomato" / "tone" / "tongue" / "tool" / "tooth" / "top" / "topic" / "total" / "touch" / "touchdown" / "tour" / "tourist" / "tournament" / "towel" / "tower" / "town" / "toy" / "trace" / "track" / "trade" / "trading" / "tradition" / "traffic" / "tragedy" / "trail" / "trailer" / "train" / "trainer" / "training" / "trait" / "transaction" / "transfer" / "transformation" / "transit" / "transition" / "translation" / "transmission" / "transport" / "transportation" / "trap" / "trash" / "trauma" / "travel" / "traveler" / "treasure" / "treasury" / "treatment" / "treaty" / "tree" / "trend" / "trial" / "tribe" / "trick" / "trigger" / "trillion" / "trip" / "troop" / "trouble" / "truck" / "trunk" / "trust" / "truth" / "tube" / "tuesday" / "tumor" / "tune" / "tunnel" / "turkey" / "turtle" / "tv" / "twin" / "twist" / "twitter" / "type" / "uncertainty" / "uncle" / "understanding" / "unemployment" / "uniform" / "union" / "unit" / "unity" / "universe" / "university" / "update" / "usage" / "user" / "utility" / "vacation" / "vaccine" / "validity" / "valley" / "value" / "vampire" / "van" / "variable" / "variation" / "variety" / "vegetable" / "vehicle" / "vendor" / "venture" / "venue" / "verdict" / "verse" / "version" / "vessel" / "veteran" / "vice" / "victim" / "victory" / "video" / "view" / "viewer" / "village" / "violation" / "violence" / "virtue" / "virus" / "vision" / "visit" / "visitor" / "vitamin" / "vocabulary" / "voice" / "volume" / "volunteer" / "voter" / "voting" / "wage" / "wagon" / "wake" / "wall" / "war" / "warming" / "warning" / "warrant" / "warrior" / "waste" / "water" / "wave" / "way" / "weakness" / "wealth" / "weapon" / "weather" / "web" / "website" / "wedding" / "wednesday" / "weed" / "week" / "weekend" / "weight" / "welfare" / "well-being" / "west" / "whale" / "wheat" / "wheel" / "while" / "wife" / "wilderness" / "wildlife" / "willingness" / "wind" / "window" / "wine" / "wing" / "winner" / "winter" / "wire" / "wisdom" / "wish" / "witch" / "witness" / "wolf" / "woman" / "wonder" / "wood" / "word" / "worker" / "workout" / "workplace" / "workshop" / "world" / "worry" / "worth" / "wound" / "wrist" / "writer" / "writing" / "yard" / "year" / "yield" / "youth" / "zone"
    plural_noun = (singular_noun "s") / (singular_noun "es")
    
    verb = past_tense_verb / future_tense_verb / perfect_tense_verb / past_perfect_tense_verb / present_progressive / past_progressive / infinitive / present_tense_verb / unconjugated_verb
    unconjugated_verb = "abandon" / "absorb" / "abuse" / "accept" / "access" / "accommodate" / "accompany" / "accomplish" / "account" / "accuse" / "achieve" / "acknowledge" / "acquire" / "act" / "adapt" / "add" / "address" / "adjust" / "administer" / "admire" / "admit" / "adopt" / "advance" / "advise" / "advocate" / "affect" / "afford" / "age" / "agree" / "aid" / "aim" / "align" / "allow" / "alter" / "analyze" / "announce" / "answer" / "anticipate" / "apologize" / "appeal" / "appear" / "apply" / "appoint" / "appreciate" / "approach" / "approve" / "argue" / "arise" / "arm" / "arrange" / "arrest" / "arrive" / "ask" / "assemble" / "assert" / "assess" / "assign" / "assist" / "associate" / "assume" / "assure" / "attach" / "attack" / "attempt" / "attend" / "attract" / "attribute" / "authorize" / "average" / "avoid" / "await" / "award" / "back" / "bake" / "balance" / "ban" / "bang" / "base" / "battle" / "be" / "bear" / "beat" / "become" / "beg" / "begin" / "behave" / "believe" / "belong" / "bend" / "benefit" / "bet" / "betray" / "bind" / "bite" / "blame" / "bleed" / "blend" / "bless" / "block" / "blow" / "boil" / "boost" / "born" / "borrow" / "bother" / "bounce" / "break" / "breathe" / "bring" / "brush" / "build" / "burn" / "burst" / "bury" / "buy" / "calculate" / "call" / "calm" / "campaign" / "can" / "cancel" / "capture" / "care" / "carry" / "carve" / "cast" / "catch" / "cause" / "cease" / "celebrate" / "challenge" / "change" / "characterize" / "charge" / "chase" / "chat" / "cheat" / "check" / "cheer" / "chew" / "choose" / "chop" / "chuckle" / "cite" / "claim" / "clarify" / "classify" / "clean" / "clear" / "click" / "climb" / "close" / "coach" / "collapse" / "collect" / "combine" / "come" / "command" / "comment" / "commit" / "communicate" / "compare" / "compel" / "compete" / "complain" / "complete" / "comply" / "compose" / "comprise" / "compromise" / "conceive" / "concentrate" / "concern" / "conclude" / "condemn" / "conduct" / "confess" / "confirm" / "confront" / "confuse" / "connect" / "consider" / "consist" / "constitute" / "construct" / "consult" / "consume" / "contact" / "contain" / "contend" / "continue" / "contribute" / "control" / "convert" / "convey" / "convict" / "convince" / "cook" / "cool" / "cooperate" / "cope" / "copy" / "correct" / "cost" / "could" / "count" / "counter" / "cover" / "crack" / "crash" / "crawl" / "create" / "credit" / "criticize" / "cross" / "crush" / "cry" / "cure" / "cut" / "damage" / "damn" / "dance" / "dare" / "date" / "deal" / "debate" / "decide" / "declare" / "decline" / "decrease" / "dedicate" / "deem" / "defeat" / "defend" / "define" / "delay" / "delete" / "deliver" / "demand" / "demonstrate" / "deny" / "depend" / "depict" / "deploy" / "derive" / "descend" / "describe" / "deserve" / "design" / "desire" / "destroy" / "detect" / "determine" / "develop" / "devote" / "diagnose" / "die" / "differ" / "dig" / "diminish" / "direct" / "disagree" / "disappear" / "disclose" / "discourage" / "discover" / "discuss" / "dismiss" / "display" / "distinguish" / "distract" / "distribute" / "divide" / "divorce" / "do" / "document" / "dominate" / "donate" / "double" / "doubt" / "download" / "draft" / "drag" / "drain" / "draw" / "dream" / "dress" / "drift" / "drill" / "drink" / "drive" / "drop" / "drown" / "dry" / "dump" / "earn" / "ease" / "eat" / "echo" / "edit" / "educate" / "elect" / "eliminate" / "embrace" / "emerge" / "emphasize" / "employ" / "enable" / "enact" / "encounter" / "encourage" / "end" / "endorse" / "endure" / "enforce" / "engage" / "enhance" / "enjoy" / "enroll" / "ensure" / "enter" / "entitle" / "equip" / "escape" / "establish" / "estimate" / "evaluate" / "evolve" / "examine" / "exceed" / "exchange" / "excite" / "exclude" / "excuse" / "execute" / "exercise" / "exhibit" / "exist" / "expand" / "expect" / "experience" / "explain" / "explode" / "exploit" / "explore" / "expose" / "express" / "extend" / "extract" / "face" / "facilitate" / "fade" / "fail" / "fall" / "fan" / "favor" / "fear" / "feature" / "feed" / "feel" / "fight" / "figure" / "file" / "fill" / "finance" / "find" / "finish" / "fire" / "fit" / "fix" / "flash" / "flee" / "flip" / "float" / "flood" / "flow" / "fly" / "focus" / "fold" / "follow" / "fool" / "forbid" / "force" / "forget" / "forgive" / "form" / "foster" / "found" / "frame" / "freak" / "free" / "freeze" / "fuck" / "function" / "fund" / "gain" / "gasp" / "gather" / "generate" / "get" / "give" / "glance" / "go" / "govern" / "grab" / "graduate" / "grant" / "grasp" / "greet" / "grow" / "guarantee" / "guard" / "guess" / "guide" / "hand" / "handle" / "hang" / "happen" / "harm" / "hate" / "have" / "head" / "heal" / "hear" / "heat" / "help" / "hesitate" / "hide" / "highlight" / "hire" / "hit" / "hold" / "honor" / "hook" / "hope" / "host" / "house" / "hug" / "hunt" / "hurry" / "hurt" / "identify" / "ignore" / "illustrate" / "imagine" / "implement" / "imply" / "impose" / "impress" / "improve" / "include" / "incorporate" / "increase" / "indicate" / "induce" / "influence" / "inform" / "inherit" / "initiate" / "injure" / "insert" / "insist" / "inspire" / "install" / "instruct" / "integrate" / "intend" / "interact" / "interfere" / "interpret" / "interrupt" / "interview" / "introduce" / "invade" / "invent" / "invest" / "investigate" / "invite" / "involve" / "is" / "isolate" / "issue" / "join" / "joke" / "judge" / "jump" / "justify" / "keep" / "kick" / "kid" / "kill" / "kiss" / "knock" / "know" / "label" / "lack" / "land" / "last" / "laugh" / "launch" / "lay" / "lead" / "leak" / "lean" / "leap" / "learn" / "leave" / "lend" / "let" / "lie" / "lift" / "like" / "limit" / "line" / "link" / "list" / "listen" / "live" / "load" / "locate" / "lock" / "look" / "lose" / "love" / "lower" / "maintain" / "make" / "manage" / "manipulate" / "march" / "mark" / "market" / "marry" / "match" / "matter" / "may" / "mean" / "measure" / "meet" / "melt" / "mention" / "mess" / "might" / "mind" / "minimize" / "miss" / "mix" / "model" / "modify" / "monitor" / "motivate" / "mount" / "move" / "murder" / "must" / "name" / "need" / "negotiate" / "nod" / "nominate" / "note" / "notice" / "object" / "observe" / "obtain" / "occupy" / "occur" / "offend" / "offer" / "omit" / "open" / "operate" / "oppose" / "opt" / "order" / "organize" / "ought" / "outline" / "overcome" / "overlook" / "oversee" / "owe" / "own" / "pack" / "paint" / "park" / "participate" / "pass" / "pause" / "pay" / "peel" / "peer" / "perceive" / "perform" / "permit" / "persist" / "persuade" / "photograph" / "pick" / "piss" / "pitch" / "plan" / "plant" / "play" / "plead" / "please" / "point" / "pop" / "portray" / "pose" / "position" / "possess" / "post" / "pour" / "practice" / "praise" / "pray" / "preach" / "predict" / "prefer" / "prepare" / "present" / "preserve" / "press" / "pretend" / "prevent" / "print" / "proceed" / "process" / "produce" / "program" / "prohibit" / "project" / "promise" / "promote" / "prompt" / "propose" / "protect" / "protest" / "prove" / "provide" / "publish" / "pull" / "pump" / "punch" / "punish" / "purchase" / "pursue" / "push" / "put" / "qualify" / "question" / "quit" / "quote" / "race" / "rain" / "raise" / "range" / "rank" / "rate" / "reach" / "react" / "read" / "realize" / "rebuild" / "recall" / "receive" / "recognize" / "recommend" / "record" / "recover" / "recruit" / "reduce" / "refer" / "reflect" / "refuse" / "regard" / "register" / "regret" / "regulate" / "reinforce" / "reject" / "relate" / "relax" / "release" / "relieve" / "rely" / "remain" / "remember" / "remind" / "remove" / "render" / "rent" / "repair" / "repeat" / "replace" / "reply" / "report" / "represent" / "request" / "require" / "rescue" / "research" / "resemble" / "reserve" / "resign" / "resist" / "resolve" / "respect" / "respond" / "rest" / "restore" / "restrict" / "result" / "resume" / "retain" / "retire" / "retrieve" / "return" / "reveal" / "reverse" / "review" / "reward" / "rid" / "ride" / "ring" / "rip" / "rise" / "risk" / "rob" / "rock" / "roll" / "root" / "rub" / "ruin" / "rule" / "run" / "rush" / "sacrifice" / "sail" / "satisfy" / "save" / "say" / "scan" / "scare" / "scatter" / "schedule" / "score" / "scratch" / "scream" / "screw" / "seal" / "search" / "secure" / "see" / "seek" / "seem" / "seize" / "select" / "sell" / "send" / "sense" / "separate" / "serve" / "set" / "settle" / "shake" / "shall" / "shape" / "share" / "shift" / "shine" / "ship" / "shock" / "shoot" / "shop" / "should" / "shout" / "shove" / "show" / "shrink" / "shrug" / "shut" / "sigh" / "sign" / "signal" / "sing" / "sink" / "sit" / "skip" / "slam" / "slap" / "sleep" / "slice" / "slide" / "slip" / "slow" / "smell" / "smile" / "smoke" / "snap" / "sneak" / "solve" / "sort" / "sound" / "spare" / "spark" / "speak" / "specialize" / "specify" / "speed" / "spell" / "spend" / "spill" / "spin" / "spit" / "split" / "sponsor" / "spot" / "spread" / "spring" / "squeeze" / "stand" / "star" / "stare" / "start" / "stay" / "steal" / "stem" / "step" / "stick" / "stir" / "stop" / "store" / "strengthen" / "stress" / "stretch" / "strike" / "strip" / "strive" / "struggle" / "study" / "stuff" / "stumble" / "submit" / "succeed" / "suck" / "sue" / "suffer" / "suggest" / "suit" / "supply" / "support" / "suppose" / "surprise" / "surround" / "survey" / "survive" / "suspect" / "suspend" / "sustain" / "swallow" / "swear" / "sweep" / "swim" / "swing" / "switch" / "tackle" / "take" / "talk" / "tap" / "target" / "taste" / "tax" / "teach" / "tear" / "tell" / "tend" / "test" / "testify" / "thank" / "think" / "threaten" / "thrive" / "throw" / "tie" / "time" / "tip" / "tire" / "tolerate" / "top" / "toss" / "touch" / "trace" / "track" / "trade" / "trail" / "train" / "transfer" / "transform" / "translate" / "transport" / "trap" / "travel" / "treat" / "trigger" / "trust" / "try" / "tuck" / "tune" / "turn" / "twist" / "uncover" / "undergo" / "undermine" / "understand" / "undertake" / "unfold" / "unite" / "update" / "upgrade" / "upset" / "urge" / "use" / "utilize" / "value" / "vanish" / "vary" / "verify" / "view" / "violate" / "visit" / "volunteer" / "vote" / "wait" / "wake" / "walk" / "wander" / "want" / "warm" / "warn" / "wash" / "waste" / "watch" / "wave" / "wear" / "weigh" / "welcome" / "whip" / "whisper" / "will" / "win" / "wind" / "wipe" / "wish" / "withdraw" / "witness" / "wonder" / "work" / "worry" / "would" / "wrap" / "write" / "yell" / "yield"
    present_tense_verb = (unconjugated_verb "s") / unconjugated_verb
    past_tense_verb = ("was" space unconjugated_verb "d") / ("was" space unconjugated_verb "ed") / ("was" space unconjugated_verb "en") / ("were" space unconjugated_verb "d") / ("were" space unconjugated_verb "ed") / ("were" space unconjugated_verb "en") / (unconjugated_verb "d") / (unconjugated_verb "ed") / (unconjugated_verb "en")
    future_tense_verb = ("will" space unconjugated_verb) / ("shall" space unconjugated_verb)
    perfect_tense_verb = ("have" space past_tense_verb) / ("has" space past_tense_verb)
    past_perfect_tense_verb = ("had" space past_tense_verb)
    present_progressive = (unconjugated_verb "ing") / ("am" space unconjugated_verb "ing") / ("is" space unconjugated_verb "ing") / ("are" space unconjugated_verb "ing") / (unconjugated_verb "ling") / ("am" space unconjugated_verb "ling") / ("is" space unconjugated_verb "ling") / ("are" space unconjugated_verb "ling") / (unconjugated_verb "ning") / ("am" space unconjugated_verb "ning") / ("is" space unconjugated_verb "ning") / ("are" space unconjugated_verb "ning") / (unconjugated_verb "ping") / ("am" space unconjugated_verb "ping") / ("is" space unconjugated_verb "ping") / ("are" space unconjugated_verb "ping") / (unconjugated_verb "ting") / ("am" space unconjugated_verb "ting") / ("is" space unconjugated_verb "ting") / ("are" space unconjugated_verb "ting")
    past_progressive = ("was" space present_progressive) / ("were" space present_progressive)
    infinitive = ("to" space unconjugated_verb)
    
    pronoun = reflexive / possessive / demonstrative / subject
    subject = "I" / "me" / "we" / "us" / "you" / "he" / "him" / "she" / "her" / "it" / "they" / "them"
    possessive = "my" / "mine" / "ours" / "our" / "yours" / "your" / "his" / "hers" / "its" / "theirs" / "their"
    reflexive = "myself" / "ourselves" / "yourself" / "yourselves" / "himself" / "herself" / "itself" / "themself" / "themselves"
    demonstrative = "this" / "these" / "that" / "those"
    
    adjective = comparative / modifier / number
    modifier = "able" / "above" / "absolute" / "abstract" / "academic" / "acceptable" / "accessible" / "accurate" / "active" / "actual" / "added" / "additional" / "adequate" / "administrative" / "advanced" / "affordable" / "afraid" / "african" / "african-american" / "aggressive" / "agricultural" / "alien" / "alive" / "alleged" / "alone" / "alternative" / "amazing" / "ambitious" / "american" / "ancient" / "angry" / "annual" / "anonymous" / "anxious" / "apparent" / "appropriate" / "arab" / "armed" / "artificial" / "artistic" / "ashamed" / "asian" / "asleep" / "assistant" / "associate" / "associated" / "athletic" / "attractive" / "automatic" / "available" / "average" / "awake" / "aware" / "awesome" / "awful" / "awkward" / "bad" / "bare" / "basic" / "beautiful" / "behavioral" / "beloved" / "beneficial" / "best" / "better" / "big" / "biological" / "bitter" / "bizarre" / "black" / "blank" / "blind" / "bloody" / "blue" / "bold" / "boring" / "bottom" / "brave" / "brief" / "bright" / "brilliant" / "british" / "broad" / "broken" / "brown" / "brutal" / "burning" / "busy" / "canadian" / "capable" / "careful" / "casual" / "catholic" / "central" / "certain" / "challenging" / "changing" / "cheap" / "chemical" / "chief" / "chinese" / "christian" / "chronic" / "civic" / "civil" / "civilian" / "classic" / "classical" / "clean" / "clear" / "clever" / "clinical" / "close" / "closed" / "coastal" / "cognitive" / "cold" / "collective" / "colonial" / "combined" / "comfortable" / "comic" / "coming" / "commercial" / "common" / "communist" / "compelling" / "competitive" / "complete" / "complex" / "complicated" / "comprehensive" / "concerned" / "concrete" / "confident" / "congressional" / "conscious" / "consecutive" / "conservative" / "considerable" / "consistent" / "constant" / "constitutional" / "contemporary" / "content" / "continued" / "continuing" / "continuous" / "controversial" / "conventional" / "convinced" / "cool" / "corporate" / "correct" / "corrupt" / "countless" / "crazy" / "creative" / "criminal" / "critical" / "crucial" / "cruel" / "cultural" / "curious" / "current" / "cute" / "daily" / "damn" / "dangerous" / "dark" / "dead" / "deadly" / "dear" / "decent" / "deep" / "defensive" / "delicate" / "delicious" / "democratic" / "demographic" / "dependent" / "depressed" / "desperate" / "detailed" / "developing" / "developmental" / "different" / "difficult" / "digital" / "diplomatic" / "direct" / "dirty" / "disabled" / "disappointed" / "distant" / "distinct" / "disturbing" / "diverse" / "divine" / "domestic" / "dominant" / "double" / "downtown" / "dramatic" / "driving" / "drunk" / "dry" / "due" / "dumb" / "dutch" / "dying" / "dynamic" / "eager" / "early" / "eastern" / "easy" / "economic" / "educational" / "effective" / "efficient" / "elderly" / "electoral" / "electric" / "electrical" / "electronic" / "elegant" / "elementary" / "eligible" / "embarrassed" / "emerging" / "emotional" / "empty" / "encouraging" / "endless" / "english" / "enormous" / "entire" / "environmental" / "equal" / "essential" / "estimated" / "eternal" / "ethical" / "ethnic" / "european" / "everyday" / "evident" / "evil" / "exact" / "excellent" / "excessive" / "excited" / "exciting" / "exclusive" / "existing" / "expected" / "expensive" / "experienced" / "experimental" / "explicit" / "extended" / "extensive" / "external" / "extra" / "extraordinary" / "extreme" / "fair" / "faithful" / "fake" / "familiar" / "famous" / "fancy" / "fantastic" / "far" / "fascinating" / "fast" / "faster" / "fat" / "favorite" / "federal" / "fellow" / "female" / "final" / "financial" / "fine" / "firm" / "fiscal" / "fit" / "fixed" / "flat" / "flexible" / "following" / "foreign" / "formal" / "free" / "french" / "frequent" / "fresh" / "friendly" / "front" / "frozen" / "fucking" / "full" / "full-time" / "fun" / "functional" / "fundamental" / "funny" / "future" / "gay" / "general" / "generous" / "genetic" / "gentle" / "genuine" / "german" / "giant" / "gifted" / "given" / "glad" / "global" / "goddamn" / "golden" / "good" / "gorgeous" / "grand" / "grateful" / "gray" / "great" / "greek" / "green" / "gross" / "growing" / "guilty" / "handsome" / "happy" / "hard" / "harsh" / "healthy" / "heavy" / "helpful" / "hidden" / "high" / "hispanic" / "historic" / "historical" / "holy" / "homeless" / "honest" / "horrible" / "hostile" / "hot" / "huge" / "human" / "hungry" / "hurt" / "ideal" / "identical" / "ideological" / "ignorant" / "illegal" / "immediate" / "immune" / "important" / "impossible" / "impressive" / "improved" / "inappropriate" / "increased" / "increasing" / "incredible" / "independent" / "indian" / "indigenous" / "individual" / "industrial" / "inevitable" / "influential" / "initial" / "inner" / "innocent" / "innovative" / "insane" / "instant" / "institutional" / "instructional" / "intellectual" / "intelligent" / "intense" / "interested" / "interesting" / "interior" / "internal" / "international" / "intimate" / "invisible" / "involved" / "iranian" / "iraqi" / "irish" / "islamic" / "israeli" / "italian" / "japanese" / "jealous" / "jewish" / "joint" / "judicial" / "junior" / "just" / "key" / "known" / "korean" / "large" / "late" / "latin" / "lazy" / "leading" / "left" / "legal" / "legislative" / "legitimate" / "level" / "liberal" / "light" / "like" / "likely" / "limited" / "literary" / "little" / "live" / "living" / "local" / "logical" / "lonely" / "long" / "long-term" / "longtime" / "loose" / "lost" / "loud" / "lovely" / "loving" / "low" / "loyal" / "lucky" / "mad" / "magic" / "magical" / "main" / "mainstream" / "major" / "male" / "marine" / "married" / "mass" / "massive" / "maximum" / "mean" / "meaningful" / "mechanical" / "medical" / "medium" / "mental" / "mere" / "mexican" / "middle" / "mild" / "military" / "minimal" / "minimum" / "minor" / "missing" / "mixed" / "mobile" / "moderate" / "modern" / "modest" / "monetary" / "monthly" / "moral" / "multiple" / "musical" / "muslim" / "mutual" / "mysterious" / "naked" / "narrow" / "nasty" / "national" / "native" / "natural" / "near" / "nearby" / "necessary" / "negative" / "nervous" / "net" / "neutral" / "new" / "nice" / "nonprofit" / "normal" / "northern" / "novel" / "nuclear" / "numerous" / "objective" / "obvious" / "occasional" / "odd" / "offensive" / "official" / "okay" / "old" / "olive" / "olympic" / "ongoing" / "online" / "only" / "open" / "operating" / "opposite" / "optimistic" / "oral" / "orange" / "ordinary" / "organic" / "original" / "other" / "outdoor" / "outer" / "outside" / "outstanding" / "overall" / "overwhelming" / "painful" / "pale" / "palestinian" / "parental" / "partial" / "particular" / "passing" / "passionate" / "past" / "patient" / "peaceful" / "perceived" / "perfect" / "permanent" / "personal" / "philosophical" / "physical" / "pink" / "plain" / "pleasant" / "pleased" / "political" / "poor" / "popular" / "positive" / "possible" / "potential" / "powerful" / "practical" / "precious" / "precise" / "pregnant" / "present" / "presidential" / "pretty" / "previous" / "primary" / "prime" / "principal" / "prior" / "private" / "pro" / "productive" / "professional" / "profound" / "progressive" / "prominent" / "promising" / "proper" / "proposed" / "protective" / "proud" / "psychological" / "public" / "pure" / "purple" / "quick" / "quiet" / "racial" / "racist" / "radical" / "random" / "rapid" / "rare" / "rational" / "raw" / "ready" / "real" / "realistic" / "reasonable" / "recent" / "red" / "regional" / "regular" / "regulatory" / "related" / "relative" / "relevant" / "reliable" / "religious" / "reluctant" / "remaining" / "remarkable" / "remote" / "representative" / "republican" / "required" / "residential" / "responsible" / "retail" / "retired" / "revolutionary" / "rich" / "ridiculous" / "right" / "risky" / "rolling" / "roman" / "romantic" / "rough" / "round" / "royal" / "rude" / "running" / "rural" / "russian" / "sacred" / "sad" / "safe" / "scared" / "scary" / "scientific" / "secondary" / "secret" / "secular" / "secure" / "senior" / "sensitive" / "separate" / "serious" / "severe" / "sexual" / "sexy" / "shallow" / "shared" / "sharp" / "sheer" / "short" / "short-term" / "shy" / "sick" / "significant" / "silent" / "silly" / "similar" / "simple" / "single" / "slight" / "slow" / "small" / "smart" / "smooth" / "so-called" / "social" / "soft" / "solar" / "sole" / "solid" / "sophisticated" / "sorry" / "southern" / "soviet" / "spanish" / "special" / "specific" / "spectacular" / "spiritual" / "square" / "stable" / "standard" / "statistical" / "steady" / "steep" / "stiff" / "still" / "straight" / "strange" / "strategic" / "strict" / "strong" / "structural" / "stunning" / "stupid" / "subsequent" / "substantial" / "subtle" / "suburban" / "successful" / "sudden" / "sufficient" / "sunny" / "super" / "superior" / "supportive" / "supposed" / "supreme" / "sure" / "surprised" / "surprising" / "surrounding" / "suspicious" / "sustainable" / "sweet" / "syrian" / "talented" / "tall" / "technical" / "technological" / "teenage" / "temporary" / "tender" / "terrible" / "terrific" / "terrorist" / "theoretical" / "thick" / "thin" / "tight" / "tiny" / "tired" / "top" / "total" / "tough" / "toxic" / "traditional" / "tragic" / "tremendous" / "tribal" / "tropical" / "typical" / "ugly" / "ultimate" / "unable" / "unbelievable" / "unclear" / "uncomfortable" / "underlying" / "unexpected" / "unfair" / "unfortunate" / "unidentified" / "unique" / "united" / "universal" / "unknown" / "unlike" / "unlikely" / "unprecedented" / "unusual" / "upcoming" / "upper" / "upset" / "urban" / "used" / "useful" / "useless" / "usual" / "valid" / "valuable" / "various" / "vast" / "verbal" / "very" / "viable" / "vice" / "violent" / "virtual" / "visible" / "visual" / "vital" / "vocal" / "vulnerable" / "warm" / "weak" / "wealthy" / "weekly" / "weird" / "welcome" / "western" / "wet" / "white" / "whole" / "wide" / "widespread" / "wild" / "willing" / "wise" / "wonderful" / "wooden" / "working" / "worried" / "worthy" / "written" / "wrong" / "yellow" / "young"
    comparative = (modifier "er") / (modifier "est") / ("more" space modifier) / ("most" space modifier)
    number = ~"[0-9]+"i
    
    adverb = "accidentally" / "actually" / "always" / "annually" / "anxiously" / "arrogantly" / "awkwardly" / "badly" / "beautifully" / "bitterly" / "bravely" / "briefly" / "carefully" / "certainly" / "daily" / "doubtfully" / "easily" / "especially" / "exactly" / "fairly" / "generally" / "greatly" / "happily" / "helpfully" / "honestly" / "immediately" / "jealously" / "keenly" / "lively" / "miserably" / "mysteriously" / "naturally" / "officially" / "often" / "politely" / "quickly" / "randomly" / "rapidly" / "regularly" / "seldom" / "slowly" / "suddenly" / "thankfully" / "tomorrow" / "unexpectedly" / "unfortunately" / "usefully" / "very" / "voluntarily" / "wrongly" / "yesterday" / "zealously"
    
    preposition = "above" / "across" / "after" / "against" / "along" / "among" / "around" / "as" / "at" / "before" / "behind" / "below" / "beside" / "between" / "by" / "during" / "except" / "for" / "from" / "in" / "inside" / "into" / "near" / "next" / "of" / "off" / "on" / "onto" / "outside" / "over" / "past" / "than" / "through" / "throughout" / "to" / "towards" / "under" / "underneath" / "unlike" / "until" / "upon" / "with" / "within" / "without"
    
    conjunction = "and" / "but" / "nor" / "or" / "so" / "yet"
    
    unknown = ~"[A-Z a-z]+"i
    
    punctuation = sentence / comma / apostrophe / hyphen / colon
    sentence = "." / "?" / "!"
    comma = ","
    apostrophe = "'"
    hyphen = "-"
    colon = ":" / ";"
    
    space = ~"[\s]"
    """)
    
    try:
        input = str(request.FILES['file'].read())
        input = input[:0] + input[1:]
        input = input.replace("'", '')
    except:
        input = request.POST['sentence']
        output = grammar.parse(input)
    else:
        print("\n", type(input))
        output = grammar.parse(input)
    
    request.session['output'] = str(output)
    request.session['POS'] = countPOS(request.session['output'])
    request.session['words'] = countWords(input)
    
    return HttpResponse(""" <html>
                                <script>
                                    window.location.replace('../dashboard');
                                </script>
                            </html>""")


def registerPage(request):
    form = CreateUserForm()
    if request.method == 'POST':
        form = CreateUserForm(request.POST)
        if form.is_valid():
            form.save()
            return redirect("login") 
    return render(request, "englishgrammar/register.html", {'form':form})

def loginPage(request):
    if request.method == 'POST':
        email = request.POST.get('email')
        password = request.POST.get('password')
        user = authenticate(request, username=email, password=password)
        if user is not None:
            login(request, user)
            return redirect('parser')
    return render(request, "englishgrammar/login.html", {})

def logoutUser(request):
    logout(request)
    return redirect('login')

def handle_uploaded_file(f):
    with open('some/file/name.txt', 'wb+') as destination:
        for chunk in f.chunks():
            destination.write(chunk)
    
def dashboard(request):
    if request.user.is_authenticated:
        output = request.session['output']
        POS = request.session['POS']
        words = request.session['words']
        poslabels = []
        posdata = []
        wordlabels = []
        worddata = []
    
        posquery = dict(sorted(POS.items(), key=lambda item: item[1], reverse=True))
        for n in posquery:
            poslabels.append(n)
            posdata.append(posquery[n])
        wordquery = dict(sorted(words.items(), key=lambda item: item[1], reverse=True))
        for n in wordquery:
            wordlabels.append(n)
            worddata.append(wordquery[n])
        
        return render(request, "englishgrammar/dashboard.html", {
            'poslabels': poslabels,
            'posdata': posdata,
            'wordlabels': wordlabels,
            'worddata': worddata,
        })
    return redirect("login")
